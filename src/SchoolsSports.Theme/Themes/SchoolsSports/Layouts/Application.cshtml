@using SchoolsSports.Theme
@using SchoolsSports.Theme.Bundling
@using SchoolsSports.Theme.HtmlHelpers
@using SchoolsSports.Theme.Themes.SchoolsSports.Components.AppVersion
@using SchoolsSports.Theme.Themes.SchoolsSports.Components.FooterToolbar
@using SchoolsSports.Theme.Themes.SchoolsSports.Components.Header
@using SchoolsSports.Theme.Themes.SchoolsSports.Components.PageAlerts
@using Volo.Abp.AspNetCore.Mvc.UI.Components.LayoutHook
@using Volo.Abp.AspNetCore.Mvc.UI.Layout
@using Volo.Abp.AspNetCore.Mvc.UI.Theming
@using Volo.Abp.AspNetCore.Mvc.UI.Widgets.Components.WidgetScripts
@using Volo.Abp.AspNetCore.Mvc.UI.Widgets.Components.WidgetStyles
@using Volo.Abp.Ui.LayoutHooks
@using Volo.Abp.AspNetCore.Mvc.UI.Bundling.TagHelpers
@inject ISchoolsSportsBrandingProvider BrandingProvider
@inject IPageLayout PageLayout
@{
    Layout = null;

    var pageTitle = ViewBag.Title == null ? BrandingProvider.AppName : ViewBag.Title; //TODO: Discard to get from Title

    if (PageLayout.Content.Title != null)
    {
        if (!string.IsNullOrWhiteSpace(pageTitle))
        {
            pageTitle = " | " + pageTitle;
        }

        pageTitle = PageLayout.Content.Title + pageTitle;
    }

    var containerClass = ViewBag.ContainerClass == null ? "container-xxl" : ViewBag.ContainerClass;
}

<!DOCTYPE html>

<html lang="@CultureInfo.CurrentCulture.Name" data-bs-theme="light">
<head>
    @await Component.InvokeLayoutHookAsync(LayoutHooks.Head.First, StandardLayouts.Application)

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>@pageTitle</title>


    <link rel="icon" type="image/x-icon" href="/themes/schools-sports/favicons/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/themes/schools-sports/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/themes/schools-sports/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/themes/schools-sports/favicons/favicon-48x48.png">
    <link rel="manifest" href="/themes/schools-sports/favicons/manifest.webmanifest" crossOrigin="use-credentials">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="57x57" href="/themes/schools-sports/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/themes/schools-sports/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/themes/schools-sports/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/themes/schools-sports/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/themes/schools-sports/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/themes/schools-sports/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/themes/schools-sports/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/themes/schools-sports/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/themes/schools-sports/favicons/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/themes/schools-sports/favicons/apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="/themes/schools-sports/favicons/apple-touch-icon-1024x1024.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/themes/schools-sports/favicons/mstile-144x144.png">
    <meta name="msapplication-config" content="/themes/schools-sports/favicons/browserconfig.xml">

    <link rel="preconnect" href="https://l.sharethis.com">
    <link rel="preconnect" href="https://buttons-config.sharethis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>

    @await RenderSectionAsync("meta", false)
    @Html.CanonicalUrl()

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" media="print" onload="this.onload=null;this.removeAttribute('media');"/>
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700">
    </noscript>

    @await RenderSectionAsync("styles", false)

    <link href="/themes/schools-sports/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" media="print" onload="this.onload=null;this.removeAttribute('media');"/>
    <noscript>
        <link href="/themes/schools-sports/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css"/>
    </noscript>
    <link href="/themes/schools-sports/css/style.bundle.css" rel="stylesheet" type="text/css"/>
   
    <link href="/vendors/fontawesome/css/all.min.css" rel="stylesheet" type="text/css" media="print" onload="this.onload=null;this.removeAttribute('media');"/>
    <noscript>
        <link href="/vendors/fontawesome/css/all.min.css" rel="stylesheet" type="text/css"/>
    </noscript>
    
    <link href="/themes/schools-sports/plugins/custom/cookiealert/cookiealert.bundle.css" rel="stylesheet" type="text/css" media="print" onload="this.onload=null;this.removeAttribute('media');"/>
    <noscript>
        <link href="/themes/schools-sports/plugins/custom/cookiealert/cookiealert.bundle.css" rel="stylesheet" type="text/css"/>
    </noscript>

    <script async="async">    		
    		if (window.top != window.self) { 
				window.top.location.replace(window.self.location.href); 
			}
    </script>

    <abp-style-bundle name="@SchoolsSportsThemeBundles.Styles.Global"></abp-style-bundle>

    @await Component.InvokeAsync(typeof(WidgetStylesViewComponent))

    @await Component.InvokeLayoutHookAsync(LayoutHooks.Head.Last, StandardLayouts.Application)


</head>

<body id="kt_app_body"
      data-kt-app-header-stacked="true"
      data-kt-app-header-primary-enabled="true"
      data-kt-app-header-secondary-enabled="true"
      class="app-default">
<div class="d-flex flex-column flex-root app-root" id="kt_app_root">
    <div class="app-page flex-column flex-column-fluid" id="kt_app_page">

        @await Component.InvokeLayoutHookAsync(LayoutHooks.Body.First, StandardLayouts.Application)

        @(await Component.InvokeAsync<HeaderViewComponent>())


        <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">

            @await RenderSectionAsync("hero", false)

            @await RenderSectionAsync("toolbar", false)


            <div class="app-container @containerClass d-flex">

                <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
                    <div class="d-flex flex-column flex-column-fluid">

                        <div id="AbpContentToolbar">
                            @await RenderSectionAsync("content_toolbar", false)
                        </div>

                        @(await Component.InvokeAsync<PageAlertsViewComponent>())



                        @await Component.InvokeLayoutHookAsync(LayoutHooks.PageContent.First, StandardLayouts.Application)
                        @RenderBody()
                        @await Component.InvokeLayoutHookAsync(LayoutHooks.PageContent.Last, StandardLayouts.Application)

                    </div>


                </div>
            </div>

            <div id="kt_app_footer" class="container-footer p-0 p-md-10 py-10 pt-md-20">
                <div class="app-container container-xxl d-flex">
                    <div class="app-main flex-column flex-row-fluid">


                        <div class="app-pre-footer">

                            @(await Component.InvokeAsync<FooterToolbarViewComponent>())

                        </div>


                        <div class="app-footer d-flex flex-column flex-md-row align-items-end flex-md-stack pb-2 pb-lg-4 mt-5 mt-md-10">
                            <div class="order-2 order-md-1">
                                <span class="me-1">
                                    &copy; @BrandingProvider.AppName @DateTime.UtcNow.Year
                                </span>
                                <span class="small">
                                    @(await Component.InvokeAsync<AppVersionViewComponent>())
                                </span>
                            </div>

                            <div class="order-1 text-center w-md-auto w-100">
                                <a href="https://socs.tech" target="_blank" rel="noopener">
                                    <img src="/themes/schools-sports/img/powered-by-SOCS.svg" alt="Powered By SOCS" class="h-100px d-none d-sm-inline"/>
                                    <img src="/themes/schools-sports/img/powered-by-SOCS-mobile.svg" alt="Powered By SOCS" class="d-sm-none mb-5 w-50  mb-xl-0"/>
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
    <i class="fa-duotone fa-arrow-up">
        <span class="path1"></span>
        <span class="path2"></span>
    </i>
</div>


<script>var hostUrl = "/themes/schools-sports/";</script>
<script src="/themes/schools-sports/plugins/global/plugins.bundle.js"></script>
<script src="/themes/schools-sports/js/scripts.bundle.js"></script>
<script src="/themes/schools-sports/plugins/custom/cookiealert/cookiealert.bundle.js"></script>

<abp-script-bundle name="@SchoolsSportsThemeBundles.Scripts.Global"/>


<script src="~/Abp/ApplicationLocalizationScript?cultureName=@CultureInfo.CurrentUICulture.Name"></script>
<script src="~/Abp/ApplicationConfigurationScript"></script>
<script src="~/Abp/ServiceProxyScript"></script>


@await Component.InvokeAsync(typeof(WidgetScriptsViewComponent))

@await RenderSectionAsync("scripts", false)

@await Component.InvokeLayoutHookAsync(LayoutHooks.Body.Last, StandardLayouts.Application)
</body>
</html>